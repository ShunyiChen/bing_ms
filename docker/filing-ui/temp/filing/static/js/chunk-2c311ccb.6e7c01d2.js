(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c311ccb"],{4595:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{display:"flex","flex-direction":"column"}},[e.moveSuccess?o("div",{style:"border-bottom: 1px solid grey;margin-bottom: 10px;color:"+this.themeColor},[e._v(" Operation Completed ")]):e._e(),e.SearchBoxPane?o("el-form",{ref:"form",staticClass:"custom-form",attrs:{model:e.form,rules:e.rules,"label-width":"auto","label-position":"right","label-suffix":":",disabled:!e.editable},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchByBoxNumber(t)}}},[o("div",{staticClass:"form-row"},[o("el-form-item",{staticClass:"custom-form-item",attrs:{label:"From Box No",prop:"boxNoPrefix"}},[o("div",{staticStyle:{display:"flex","flex-direction":"row"}},[o("el-input",{staticStyle:{width:"135px"},attrs:{clearable:"",placeholder:"Enter a prefix"},on:{input:e.handleInputLetters},model:{value:e.form.boxNoPrefix,callback:function(t){e.$set(e.form,"boxNoPrefix",t)},expression:"form.boxNoPrefix"}}),e._v(" - "),o("el-input",{staticStyle:{width:"135px"},attrs:{clearable:"",placeholder:"Enter a suffix"},on:{input:e.handleInputNumber},model:{value:e.form.boxNoSuffix,callback:function(t){e.$set(e.form,"boxNoSuffix",t)},expression:"form.boxNoSuffix"}})],1)]),o("el-form-item",{attrs:{label:"Location",prop:"deptId"}},[o("el-select",{attrs:{filterable:"",placeholder:"",clearable:""},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}},e._l(e.areaLocations,(function(e){return o("el-option",{key:e.deptId,attrs:{label:e.locationName,value:e.deptId}})})),1)],1),o("el-form-item",{staticClass:"custom-form-item"},[o("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchByBoxNumber}},[e._v("Search")])],1)],1)]):e._e(),e.MoveBoxtoBoxPane_table?o("div",[o("span",[e._v("Your search return "+e._s(this.total)+" results.")]),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.boxNoList,"cell-style":e.columnStyle,"header-cell-style":e.headerColStyle}},[o("el-table-column",{attrs:{label:"Box No",align:"center",width:"200",prop:"boxNumber"}}),o("el-table-column",{attrs:{label:"Location",align:"center",width:"200",prop:"areaLocation"}}),o("el-table-column",{attrs:{label:"File in this Box",align:"center",prop:"fileIDs"}}),o("el-table-column",{attrs:{label:"Actions",fixed:"right",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{disabled:null==t.row.fileIDs,type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),e.willMove(t.row.boxPrefix,t.row.boxSuffix,t.row.deptId)}}},[e._v(" Move ")])]}}],null,!1,3301215007)})],1),o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.searchByPaging}})],1):e._e(),o("el-dialog",{attrs:{title:"Input Box Prefix",visible:e.centerDialogVisible,width:"30%","show-close":!1,"close-on-click-modal":!1,"modal-append-to-body":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[o("span",[e._v("Please Input the maximum 9 alphabet Box Prefix you would like to move to.")]),o("span",[o("el-input",{attrs:{placeholder:""},model:{value:e.targetBoxPrefix,callback:function(t){e.targetBoxPrefix=t},expression:"targetBoxPrefix"}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.cancelBoxPrefix}},[e._v("Cancel")]),o("el-button",{attrs:{type:"primary"},on:{click:e.okBoxPrefix}},[e._v("OK")])],1)]),o("el-dialog",{attrs:{title:"Input Box Suffix",visible:e.centerDialogVisible2,width:"30%","show-close":!1,"close-on-click-modal":!1,"modal-append-to-body":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.centerDialogVisible2=t}}},[o("span",{staticClass:"nobreak"},[e._v("Please Input the maximum 8 numberic number Box Suffix you would like to move to.")]),o("span",[o("el-input",{attrs:{placeholder:""},model:{value:e.targetBoxSuffix,callback:function(t){e.targetBoxSuffix=t},expression:"targetBoxSuffix"}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.cancelBoxSuffix}},[e._v("Cancel")]),o("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.okBoxSuffix}},[e._v("OK")])],1)]),o("el-dialog",{attrs:{title:"Info",visible:e.centerDialogVisible3,width:"30%","show-close":!1,"close-on-click-modal":!1,"modal-append-to-body":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.centerDialogVisible3=t}}},[o("span",[e._v("Invalid BOX Suffix. Box Suffix accepts maximum 8 numeric numbers only!")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:e.closeAllDialogs}},[e._v("OK")])],1)])],1)},a=[],l=(o("ac1f"),o("5319"),o("498a"),o("466d"),o("3032")),n={data:function(){return{mode:"search",areaLocations:[],form:{boxNoPrefix:"",boxNoSuffix:"",deptId:null},rules:{},editable:!0,centerDialogVisible:!1,centerDialogVisible2:!1,centerDialogVisible3:!1,btnLoading:!1,loading:!1,SearchBoxPane:!0,MoveBoxtoBoxPane_table:!1,moveSuccess:!1,boxNoList:[],srcBoxPrefix:"",srcBoxSuffix:"",srcDeptId:null,targetBoxPrefix:"",targetBoxSuffix:"",queryParams:{pageNum:1,pageSize:10,boxNumber:"",deptId:null},total:0,count:0}},computed:{themeColor:{get:function(){return"#FFE600"==this.$store.state.settings.theme?"black":this.$store.state.settings.theme}}},mounted:function(){this.initLocationList()},methods:{handleInputLetters:function(e){this.form.boxNoPrefix=e.replace(/[^a-zA-Z]/g,"")},handleInputNumber:function(e){this.form.boxNoSuffix=e.replace(/^(0+)|[^\d]/g,"")},initLocationList:function(){var e=this;Object(l["g"])({}).then((function(t){e.areaLocations=t.data})).catch((function(t){e.count<2&&(e.count++,setTimeout((function(){e.initLocationList()}),1e3))}))},cancelBoxPrefix:function(){this.closeAllDialogs()},okBoxPrefix:function(){this.centerDialogVisible2=!0},cancelBoxSuffix:function(){this.closeAllDialogs()},okBoxSuffix:function(){""==this.targetBoxPrefix.trim()||""==this.targetBoxSuffix.trim()||this.targetBoxPrefix.length>9||this.targetBoxSuffix.length>8?this.centerDialogVisible3=!0:this.targetBoxPrefix.match(/^[A-Za-z]+$/g)&&this.targetBoxSuffix.match(/^[0-9]*$/g)?this.move(this.targetBoxPrefix.trim(),this.targetBoxSuffix.trim()):this.centerDialogVisible3=!0},closeAllDialogs:function(){this.centerDialogVisible=!1,this.centerDialogVisible2=!1,this.centerDialogVisible3=!1},formatConfirmedInfo:function(e,t){return"OK"==t?"FileID: "+e+" successfully inserted.":"FileID: "+e+" is not available for relocation."},searchByBoxNumber:function(){var e=this;this.mode="search",this.editable=!1,this.moveSuccess=!1,this.MoveBoxtoBoxPane_table=!0,this.btnLoading=!0,this.loading=!0,this.queryParams.boxNumber=this.form.boxNoPrefix+""+this.form.boxNoSuffix,this.queryParams.deptId=this.form.deptId,Object(l["k"])(this.queryParams).then((function(t){e.boxNoList=t.rows,e.total=t.total,e.loading=!1,e.btnLoading=!1})).catch((function(t){e.loading=!1,e.btnLoading=!1}))},handleSelectionChange:function(){},searchByPaging:function(){var e=this;this.loading=!0,Object(l["k"])(this.queryParams).then((function(t){e.boxNoList=t.rows,e.total=t.total,e.loading=!1,e.btnLoading=!1})).catch((function(t){e.loading=!1,e.btnLoading=!1}))},willMove:function(e,t,o){this.centerDialogVisible=!0,this.targetBoxPrefix="",this.targetBoxSuffix="",this.srcBoxPrefix=e,this.srcBoxSuffix=t,this.srcDeptId=o},move:function(e,t){var o=this;if(this.centerDialogVisible=!1,this.centerDialogVisible3=!1,this.srcBoxPrefix!=e||this.srcBoxSuffix!=t){var i={prefix:e,suffix:t,deptId:this.srcDeptId};this.btnLoading=!0,Object(l["d"])(i).then((function(a){if(0==a.data)o.btnLoading=!1,o.$modal.alert("BoxNo "+i.prefix+i.suffix+" does not exist!");else{var n={boxNumber:o.srcBoxPrefix+""+o.srcBoxSuffix,boxNumberMoveTo:e+""+t,deptId:o.srcDeptId};Object(l["h"])(n).then((function(e){o.editable=!0,o.moveSuccess=!0,o.MoveBoxtoBoxPane_table=!1,o.btnLoading=!1,o.centerDialogVisible2=!1,o.form.boxNoPrefix="",o.form.boxNoSuffix="",o.form.deptId=null})).catch((function(e){o.btnLoading=!1,o.centerDialogVisible2=!1}))}})).catch((function(e){o.btnLoading=!1}))}else this.$modal.alert("The same box cannot be relocated!")},firstColumnStyle:function(e,t,o,i){return"color: black;padding:0px 0px;"},columnStyle:function(e,t,o,i){return"color: black;padding:0px 0px;"},headerColStyle:function(e,t,o,i){return"padding:0px 0px;height:10px"}}},r=n,s=(o("f95f"),o("2877")),c=Object(s["a"])(r,i,a,!1,null,"626b9f5e",null);t["default"]=c.exports},"466d":function(e,t,o){"use strict";var i=o("c65b"),a=o("d784"),l=o("825a"),n=o("7234"),r=o("50c4"),s=o("577e"),c=o("1d80"),u=o("dc4a"),f=o("8aa5"),x=o("14c3");a("match",(function(e,t,o){return[function(t){var o=c(this),a=n(t)?void 0:u(t,e);return a?i(a,t,o):new RegExp(t)[e](s(o))},function(e){var i=l(this),a=s(e),n=o(t,i,a);if(n.done)return n.value;if(!i.global)return x(i,a);var c=i.unicode;i.lastIndex=0;var u,d=[],b=0;while(null!==(u=x(i,a))){var m=s(u[0]);d[b]=m,""===m&&(i.lastIndex=f(a,r(i.lastIndex),c)),b++}return 0===b?null:d}]}))},"51c3":function(e,t,o){},f95f:function(e,t,o){"use strict";o("51c3")}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e5f7b4d"],{"1c59":function(e,t,n){"use strict";var i=n("6d61"),r=n("6566");i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},"466d":function(e,t,n){"use strict";var i=n("c65b"),r=n("d784"),a=n("825a"),o=n("7234"),l=n("50c4"),s=n("577e"),u=n("1d80"),c=n("dc4a"),f=n("8aa5"),d=n("14c3");r("match",(function(e,t,n){return[function(t){var n=u(this),r=o(t)?void 0:c(t,e);return r?i(r,t,n):new RegExp(t)[e](s(n))},function(e){var i=a(this),r=s(e),o=n(t,i,r);if(o.done)return o.value;if(!i.global)return d(i,r);var u=i.unicode;i.lastIndex=0;var c,m=[],p=0;while(null!==(c=d(i,r))){var h=s(c[0]);m[p]=h,""===h&&(i.lastIndex=f(r,l(i.lastIndex),u)),p++}return 0===p?null:m}]}))},"4fad":function(e,t,n){var i=n("d039"),r=n("861d"),a=n("c6b6"),o=n("d86b"),l=Object.isExtensible,s=i((function(){l(1)}));e.exports=s||o?function(e){return!!r(e)&&((!o||"ArrayBuffer"!=a(e))&&(!l||l(e)))}:l},6062:function(e,t,n){n("1c59")},6566:function(e,t,n){"use strict";var i=n("9bf2").f,r=n("7c73"),a=n("6964"),o=n("0366"),l=n("19aa"),s=n("7234"),u=n("2266"),c=n("c6d2"),f=n("4754"),d=n("2626"),m=n("83ab"),p=n("f183").fastKey,h=n("69f3"),b=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var f=e((function(e,i){l(e,d),b(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),m||(e.size=0),s(i)||u(i,e[c],{that:e,AS_ENTRIES:n})})),d=f.prototype,h=g(t),y=function(e,t,n){var i,r,a=h(e),o=x(e,t);return o?o.value=n:(a.last=o={index:r=p(t,!0),key:t,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=o),i&&(i.next=o),m?a.size++:e.size++,"F"!==r&&(a.index[r]=o)),e},x=function(e,t){var n,i=h(e),r=p(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return a(d,{clear:function(){var e=this,t=h(e),n=t.index,i=t.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;t.first=t.last=void 0,m?t.size=0:e.size=0},delete:function(e){var t=this,n=h(t),i=x(t,e);if(i){var r=i.next,a=i.previous;delete n.index[i.index],i.removed=!0,a&&(a.next=r),r&&(r.previous=a),n.first==i&&(n.first=r),n.last==i&&(n.last=a),m?n.size--:t.size--}return!!i},forEach:function(e){var t,n=h(this),i=o(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:n.first){i(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!x(this,e)}}),a(d,n?{get:function(e){var t=x(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),m&&i(d,"size",{get:function(){return h(this).size}}),f},setStrong:function(e,t,n){var i=t+" Iterator",r=g(t),a=g(i);c(e,t,(function(e,t){b(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?f("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,f(void 0,!0))}),n?"entries":"values",!n,!0),d(t)}}},6964:function(e,t,n){var i=n("cb2d");e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},"6d61":function(e,t,n){"use strict";var i=n("23e7"),r=n("da84"),a=n("e330"),o=n("94ca"),l=n("cb2d"),s=n("f183"),u=n("2266"),c=n("19aa"),f=n("1626"),d=n("7234"),m=n("861d"),p=n("d039"),h=n("1c7e"),b=n("d44e"),g=n("7156");e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),x=-1!==e.indexOf("Weak"),v=y?"set":"add",w=r[e],S=w&&w.prototype,k=w,D={},_=function(e){var t=a(S[e]);l(S,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(x&&!m(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return x&&!m(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(x&&!m(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},L=o(e,!f(w)||!(x||S.forEach&&!p((function(){(new w).entries().next()}))));if(L)k=n.getConstructor(t,e,y,v),s.enable();else if(o(e,!0)){var N=new k,P=N[v](x?{}:-0,1)!=N,F=p((function(){N.has(1)})),B=h((function(e){new w(e)})),I=!x&&p((function(){var e=new w,t=5;while(t--)e[v](t,t);return!e.has(-0)}));B||(k=t((function(e,t){c(e,S);var n=g(new w,e,k);return d(t)||u(t,n[v],{that:n,AS_ENTRIES:y}),n})),k.prototype=S,S.constructor=k),(F||I)&&(_("delete"),_("has"),y&&_("get")),(I||P)&&_(v),x&&S.clear&&delete S.clear}return D[e]=k,i({global:!0,constructor:!0,forced:k!=w},D),b(k,e),x||n.setStrong(k,e,y),k}},"6da5":function(e,t,n){},"81ec":function(e,t,n){},"9b43":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return l}));var i=n("b775");function r(e){return Object(i["a"])({url:"/filingsystem/filing/destruction/fileSearch",method:"post",data:e})}function a(e){return Object(i["a"])({url:"/filingsystem/filing/destruction/boxSearch",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/filingsystem/filing/destruction/fileConfirm",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/filingsystem/filing/destruction/boxConfirm",method:"post",data:e})}},ad14:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[n("div",[n("el-form",{ref:"form",staticClass:"custom-form",attrs:{inline:!0,model:e.form,rules:e.rules,"label-width":"auto","label-position":"right","label-suffix":":"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery("File Search")}}},[n("div",{staticClass:"form-row"},[n("el-form-item",{staticClass:"custom-form-item",attrs:{label:"File ID",prop:"fileID"}},[n("el-input",{staticStyle:{width:"275px"},attrs:{name:"FileIDFrom",maxlength:"12",clearable:""},model:{value:e.form.fileID,callback:function(t){e.$set(e.form,"fileID","string"===typeof t?t.trim():t)},expression:"form.fileID"}})],1),n("el-form-item",{staticClass:"custom-form-item",attrs:{label:"File Type",prop:"fileType"}},[n("el-select",{staticStyle:{width:"275px"},attrs:{filterable:"",clearable:"",placeholder:""},model:{value:e.form.fileType,callback:function(t){e.$set(e.form,"fileType",t)},expression:"form.fileType"}},e._l(e.fileTypes,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),n("el-form-item",{staticClass:"custom-form-item",attrs:{label:"Retention Date",prop:"retentionDate"}},[n("el-date-picker",{staticStyle:{width:"275px"},attrs:{type:"daterange",align:"right",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},on:{change:e.handleRDChange},model:{value:e.form.retentionDate,callback:function(t){e.$set(e.form,"retentionDate",t)},expression:"form.retentionDate"}})],1)],1),n("div",{staticClass:"form-row"},[n("el-form-item",{staticClass:"custom-form-item",attrs:{label:"Box No",prop:"boxPrefix"}},[n("div",{staticStyle:{display:"flex","flex-direction":"row"}},[n("el-input",{staticStyle:{width:"135px"},attrs:{name:"boxNumberPrefix",maxlength:"10",clearable:"","auto-complete":"on"},model:{value:e.form.boxPrefix,callback:function(t){e.$set(e.form,"boxPrefix","string"===typeof t?t.trim():t)},expression:"form.boxPrefix"}}),e._v(" - "),n("el-input",{staticStyle:{width:"135px"},attrs:{name:"boxNumberSuffix",maxlength:"8",clearable:"","auto-complete":"on"},model:{value:e.form.boxSuffix,callback:function(t){e.$set(e.form,"boxSuffix","string"===typeof t?t.trim():t)},expression:"form.boxSuffix"}})],1)]),n("el-form-item",{staticClass:"custom-form-item",attrs:{label:"Location",prop:"deptId"}},[n("el-select",{staticStyle:{width:"275px"},attrs:{filterable:"",clearable:""},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}},e._l(e.areaLocations,(function(e){return n("el-option",{key:e.deptId,attrs:{label:e.locationName,value:e.deptId}})})),1)],1),n("el-form-item",{staticClass:"custom-form-item",attrs:{prop:"includeDestructionRecords"}},[n("el-checkbox",{staticStyle:{"font-weight":"bold"},model:{value:e.form.includeDestructionRecords,callback:function(t){e.$set(e.form,"includeDestructionRecords",t)},expression:"form.includeDestructionRecords"}},[e._v("Include Non-destructible")])],1)],1),n("div",{staticClass:"form-row"},[n("el-form-item",{staticClass:"custom-form-item"}),n("el-form-item",{staticClass:"custom-form-item"}),n("el-form-item",{staticClass:"custom-form-item"},[n("el-button",{attrs:{type:"primary",loading:e.btnFileSearchLoading},on:{click:function(t){return t.preventDefault(),function(){return e.handleQuery("File Search")}()}}},[e._v("File Search")]),n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(t){return e.resetQuery("File Search")}}},[e._v("Reset")])],1)],1)])],1),n("div",{staticStyle:{"text-align":"center","border-bottom":"1px solid #D9D9D9","margin-top":"5px","margin-bottom":"10px"}}),n("div",[n("el-form",{ref:"form2",staticClass:"custom-form",attrs:{inline:!0,model:e.form2,"label-width":"auto","label-position":"right","label-suffix":":"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery("Box Search")}}},[n("div",{staticClass:"form-row"},[n("el-form-item",{staticClass:"custom-form-item",staticStyle:{"padding-left":"40px"},attrs:{label:"Box No",prop:"boxPrefix"}},[n("div",{staticStyle:{display:"flex","flex-direction":"row"}},[n("el-input",{staticStyle:{width:"135px"},attrs:{name:"boxNumberPrefix",maxlength:"10",clearable:"","auto-complete":"on"},model:{value:e.form2.boxPrefix,callback:function(t){e.$set(e.form2,"boxPrefix","string"===typeof t?t.trim():t)},expression:"form2.boxPrefix"}}),e._v(" - "),n("el-input",{staticStyle:{width:"135px"},attrs:{name:"boxNumberSuffix",maxlength:"8",clearable:"","auto-complete":"on"},model:{value:e.form2.boxSuffix,callback:function(t){e.$set(e.form2,"boxSuffix","string"===typeof t?t.trim():t)},expression:"form2.boxSuffix"}})],1)]),n("el-form-item",{staticClass:"custom-form-item",staticStyle:{"padding-left":"40px"},attrs:{label:"Location",prop:"areaLocation"}},[n("el-select",{staticStyle:{width:"275px"},attrs:{filterable:"",clearable:""},model:{value:e.form2.areaLocation,callback:function(t){e.$set(e.form2,"areaLocation",t)},expression:"form2.areaLocation"}},e._l(e.areaLocations,(function(e){return n("el-option",{key:e.deptId,attrs:{label:e.locationName,value:e.locationName}})})),1)],1),n("el-form-item",{staticClass:"custom-form-item"},[n("el-button",{attrs:{type:"primary",loading:e.btnBoxSearchLoading},on:{click:function(t){return t.preventDefault(),function(){return e.handleQuery("Box Search")}()}}},[e._v("Box Search")]),n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(t){return e.resetQuery("Box Search")}}},[e._v("Reset")])],1)],1)])],1)])},r=[],a=(n("a9e3"),n("ac1f"),n("00b4"),n("d9e2"),n("4de4"),n("d3b7"),n("498a"),n("25f0"),n("3032")),o=n("9b43"),l=n("b775");function s(e){return Object(l["a"])({url:"/filingsystem/filing/destructionhistory/getFileHistory",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/filingsystem/filing/destructionhistory/getBoxHistory",method:"post",data:e})}n("c466");var c={name:"DestructionSearch",props:{show:{required:!0,type:Boolean,default:!0},loading:{required:!0,type:Boolean,default:!1},api:{required:!1,type:String,default:""},pageSize:{required:!0,type:Number}},data:function(){var e=function(e,t,n){var i=/^[0-9]*$/;null==t||i.test(t)?n():n(new Error("-"))};return{btnFileSearchLoading:!1,btnBoxSearchLoading:!1,areaLocations:[],fileTypes:["A","T","I","O"],pickerOptions:{shortcuts:[{text:"最近一天",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-864e5),e.$emit("pick",[n,t])}},{text:"最近三天",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e5),e.$emit("pick",[n,t])}},{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]},queryParams:{pageNum:1,pageSize:this.pageSize},opt:null,form:{fileID:null,fileType:null,boxNumber:null,boxPrefix:"",boxSuffix:"",retentionDate:null,retentionDateFrom:null,retentionDateTo:null,includeDestructionRecords:!1,deptId:null},form2:{boxNumber:null,boxPrefix:"",boxSuffix:"",areaLocation:"",deptId:null},rules:{fileID:[{validator:e,trigger:"blur"}]},count:0}},watch:{"form2.areaLocation":{handler:function(e,t){""==e&&(this.form2.deptId=null)}}},computed:{boxNumber:{get:function(){return this.form.boxPrefix+this.form.boxSuffix},set:function(e){}},boxNumber2:{get:function(){return this.form2.boxPrefix+this.form2.boxSuffix},set:function(e){}}},created:function(){this.initLocationList()},methods:{initLocationList:function(){var e=this;Object(a["g"])({}).then((function(t){e.areaLocations=t.data})).catch((function(t){e.count<2&&(e.count++,setTimeout((function(){e.initLocationList()}),1e3))}))},handleQuery:function(e){this.opt=e,this.handleQueryByPageNum(0,this.pageSize),this.$emit("resetPageInfo")},handleQueryByPageNum:function(e,t){var n=this;this.queryParams.pageNum=e,this.queryParams.pageSize=t,this.$refs["form"].validate((function(e){e&&(n.updateParentLoading(!0),"Destruction"==n.api?"File Search"==n.opt?(n.form["pageNum"]=n.queryParams.pageNum,n.form["pageSize"]=n.queryParams.pageSize,n.form.boxNumber=n.boxNumber,n.btnFileSearchLoading=!0,Object(o["d"])(n.form).then((function(e){n.$emit("getResult",e,n.opt),n.btnFileSearchLoading=!1,n.updateParentLoading(!1)})).catch((function(e){n.btnFileSearchLoading=!1,n.updateParentLoading(!1)}))):(n.form2["pageNum"]=n.queryParams.pageNum,n.form2["pageSize"]=n.queryParams.pageSize,n.form2.boxNumber=n.boxNumber2,""!=n.form2.areaLocation&&(n.form2.deptId=n.areaLocations.filter((function(e){return e.locationName==n.form2.areaLocation}))[0].deptId),n.btnBoxSearchLoading=!0,Object(o["b"])(n.form2).then((function(e){n.$emit("getResult",e,n.opt),n.btnBoxSearchLoading=!1,n.updateParentLoading(!1)})).catch((function(e){n.btnBoxSearchLoading=!1,n.updateParentLoading(!1)}))):"DestructionHistory"==n.api&&("File Search"==n.opt?(n.form["pageNum"]=n.queryParams.pageNum,n.form["pageSize"]=n.queryParams.pageSize,n.form.boxNumber=n.boxNumber,n.btnFileSearchLoading=!0,s(n.form).then((function(e){n.$emit("getResult",e,n.form,n.opt),n.btnFileSearchLoading=!1,n.updateParentLoading(!1)})).catch((function(e){n.btnFileSearchLoading=!1,n.updateParentLoading(!1)}))):(n.form2["pageNum"]=n.queryParams.pageNum,n.form2["pageSize"]=n.queryParams.pageSize,n.form2.boxNumber=n.boxNumber2,""!=n.form2.areaLocation&&(n.form2.deptId=n.areaLocations.filter((function(e){return e.locationName==n.form2.areaLocation}))[0].deptId),n.btnBoxSearchLoading=!0,u(n.form2).then((function(e){n.$emit("getResult",e,n.form2,n.opt),n.btnBoxSearchLoading=!1,n.updateParentLoading(!1)})).catch((function(e){n.btnBoxSearchLoading=!1,n.updateParentLoading(!1)})))))}))},resetQuery:function(e){"File Search"==e?(this.resetForm("form"),this.form.boxSuffix="",this.form.retentionDateFrom=null,this.form.retentionDateTo=null):(this.resetForm("form2"),this.form2.boxSuffix="")},updateParentLoading:function(e){this.$emit("update:loading",e)},isFormEmpty:function(){for(var e in this.form)if("includeDestructionRecords"!=e&&"pageNum"!=e&&"pageSize"!=e&&null!=this.form[e]&&""!=this.form[e].toString().trim())return!1;return!0},handleRDChange:function(e){e&&2===e.length?(this.form.retentionDateFrom=e[0],this.form.retentionDateTo=e[1]):(this.form.retentionDateFrom=null,this.form.retentionDateTo=null)}}},f=c,d=(n("dc51"),n("2877")),m=Object(d["a"])(f,i,r,!1,null,"463dc154",null);t["a"]=m.exports},bb2f:function(e,t,n){var i=n("d039");e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c7b7:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("DestructionSearch",{ref:"DestructionSearch",attrs:{loading:e.loading,api:"DestructionHistory",show:e.showSearch,pageSize:e.queryParams.pageSize},on:{getResult:e.receiveSearchResult,resetPageInfo:e.resetPageInfo,"update:loading":function(t){e.loading=t},"update:show":function(t){e.showSearch=t},"update:pageSize":function(t){return e.$set(e.queryParams,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParams,"pageSize",t)}}}),n("div",[n("el-row",{staticClass:"mb8",attrs:{gutter:10}},[e.showExportButton?n("el-col",{attrs:{span:1.5}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-s-data"},on:{click:e.handleExport}},[e._v("Export")])],1):e._e(),n("right-toolbar",{attrs:{showSearch:e.showSearch,columns:e.columns},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.searchByPaging}})],1)],1),e.showFileList?n("div",[n("span",[e._v(" Your search return "+e._s(e.total)+" results ")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"fileTable",attrs:{border:"",data:e.profileList,"cell-style":e.firstColumnStyle,"header-cell-style":e.headerColStyle}},[e.columns[0].visible?n("el-table-column",{key:Math.random(),attrs:{label:"Box No",align:"center",width:"160",prop:"boxNumber"}}):e._e(),e.columns[1].visible?n("el-table-column",{key:Math.random(),attrs:{label:"File ID",align:"center",width:"150",prop:"oldSystemfileID"}}):e._e(),e.columns[2].visible?n("el-table-column",{key:Math.random(),attrs:{label:"Group",align:"center",width:"400",prop:"clientGroupName"}}):e._e(),e.columns[3].visible?n("el-table-column",{key:Math.random(),attrs:{label:"Client Name",align:"center",width:"400",prop:"clientCompanyName"}}):e._e(),e.columns[4].visible?n("el-table-column",{key:Math.random(),attrs:{label:"File Type",align:"center",width:"100",prop:"fileType"}}):e._e(),e.columns[5].visible?n("el-table-column",{key:Math.random(),attrs:{label:"Binder No",align:"center",width:"400",prop:"binderNo"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.fileDescription))])]}}],null,!1,3503077478)}):e._e(),e.columns[6].visible?n("el-table-column",{key:Math.random(),attrs:{label:"Retention Date",align:"center",width:"180",prop:"retentionDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.parseTime(t.row.retentionDate,"{y}-{m}-{d}")))])]}}],null,!1,2710040573)}):e._e(),e.columns[7].visible?n("el-table-column",{key:Math.random(),attrs:{label:"A.R.D.",align:"center",width:"180",prop:"auditReportDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.parseTime(t.row.auditReportDate,"{y}-{m}-{d}")))])]}}],null,!1,2407544522)}):e._e(),e.columns[8].visible?n("el-table-column",{key:Math.random(),attrs:{label:"Destruction Officer",align:"center",width:"250",prop:"destructionPeople"}}):e._e(),e.columns[9].visible?n("el-table-column",{key:Math.random(),attrs:{label:"Destruction Date",align:"center",width:"200",prop:"destructionTime"}}):e._e(),e.columns[10].visible?n("el-table-column",{key:Math.random(),attrs:{label:"Location",align:"center",width:"200",prop:"areaLocation"}}):e._e()],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.searchByPaging}})],1):e._e(),e.showBoxList?n("div",[n("span",[e._v(" Your search return "+e._s(e.total)+" results ")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"boxTable",attrs:{border:"",data:e.boxList,"cell-style":e.columnStyle,"header-cell-style":e.headerColStyle}},[e.columns[0].visible?n("el-table-column",{key:Math.random(),attrs:{label:"Box No",align:"center",width:"160",prop:"boxNumber"}}):e._e(),e.columns[1].visible?n("el-table-column",{key:Math.random(),attrs:{label:"File ID",align:"center",width:"1000",prop:"fileIds"}}):e._e(),e.columns[2].visible?n("el-table-column",{key:Math.random(),attrs:{label:"Destruction Officer",align:"center",width:"250",prop:"destroyer"}}):e._e(),e.columns[3].visible?n("el-table-column",{key:Math.random(),attrs:{label:"File Destruction Date",align:"center",width:"200",prop:"destroyTime"}}):e._e(),e.columns[4].visible?n("el-table-column",{key:Math.random(),attrs:{label:"Location",align:"center",width:"200",prop:"areaLocation"}}):e._e()],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.searchByPaging}})],1):e._e()],1)},r=[],a=n("5530"),o=(n("a9e3"),n("ad14")),l=n("ed08"),s={name:"Destructionhistory",components:{DestructionSearch:o["a"]},data:function(){return{form:null,btnLoading:!1,btnBoxLoading:!1,loading:!1,showFileList:!1,showBoxList:!1,queryParams:{pageNum:1,pageSize:Number(this.$cache.local.get("displayPageRows"))||10},total:0,profileList:[],boxList:[],multipleSelection:[],confirmFileIDs:[],checkAll:!1,isIndeterminate:!1,showSearch:!0,fileTablecolumns:[{key:0,label:"Box No",visible:!0},{key:1,label:"File ID",visible:!0},{key:2,label:"Group",visible:!0},{key:3,label:"Client Name",visible:!0},{key:4,label:"File Type",visible:!0},{key:5,label:"Binder No",visible:!0},{key:6,label:"Retention Date",visible:!0},{key:7,label:"A.R.D",visible:!0},{key:8,label:"Destruction Officer",visible:!0},{key:9,label:"Destruction Date",visible:!0},{key:10,label:"Location",visible:!0}],boxTablecolumns:[{key:0,label:"Box No",visible:!0},{key:1,label:"File ID",visible:!0},{key:2,label:"Destruction Officer",visible:!0},{key:3,label:"File Destruction Date",visible:!0},{key:4,label:"Location",visible:!0}]}},computed:{columns:{get:function(){return this.showFileList&&this.profileList.length>0?this.fileTablecolumns:this.boxTablecolumns},set:function(e){}},showExportButton:{get:function(){return this.showFileList&&this.profileList.length>0||this.showBoxList&&this.boxList.length>0},set:function(e){}}},activated:function(){this.$refs.DestructionSearch.isFormEmpty()||this.$refs.DestructionSearch.handleQueryByPageNum(this.queryParams.pageNum,this.queryParams.pageSize)},methods:{searchByPaging:function(){this.loading=!0,this.$refs.DestructionSearch.handleQueryByPageNum(this.queryParams.pageNum,this.queryParams.pageSize)},receiveSearchResult:function(e,t,n){this.form=t,"File Search"==n?(this.btnLoading=!1,this.showFileList=!0,this.showBoxList=!1,this.profileList=e.rows,this.total=e.total,this.loading=!1,this.checkAll=!1,this.isIndeterminate=!1):(this.btnBoxLoading=!1,this.showFileList=!1,this.showBoxList=!0,this.boxList=e.rows,this.total=e.total,this.loading=!1,this.checkAll=!1,this.isIndeterminate=!1)},resetPageInfo:function(){this.queryParams.pageNum=1,this.queryParams.pageSize=Number(this.$cache.local.get("displayPageRows"))||10},handleExport:function(){var e=this;this.$confirm("Do you confirm that you want to export all "+this.total+" records?","Prompt",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then((function(){e.showFileList?e.download("filingsystem/filing/destructionhistory/exportFileHistory",Object(a["a"])({},e.form),"".concat(Object(l["d"])(new Date)," FileDestructionHistory.xlsx")):e.download("filingsystem/filing/destructionhistory/exportBoxHistory",Object(a["a"])({},e.form),"".concat(Object(l["d"])(new Date)," BoxDestructionHistory.xlsx"))})).catch((function(){}))},firstColumnStyle:function(e,t,n,i){return"color: black;padding:2px 0px;"},columnStyle:function(e,t,n,i){return"color: black;padding:0px 0px;"},headerColStyle:function(e,t,n,i){return"padding:0px 0px;height:10px"}}},u=s,c=(n("de6c"),n("2877")),f=Object(c["a"])(u,i,r,!1,null,"57f06d73",null);t["default"]=f.exports},d86b:function(e,t,n){var i=n("d039");e.exports=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},dc51:function(e,t,n){"use strict";n("81ec")},de6c:function(e,t,n){"use strict";n("6da5")},ed08:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return u}));n("53ca"),n("ac1f"),n("5319"),n("14d9"),n("a15b"),n("d81d"),n("b64b"),n("d3b7"),n("159b"),n("fb6a"),n("d9e2"),n("a630"),n("3ca3"),n("6062"),n("ddb0"),n("25f0"),n("466d"),n("4d63"),n("c607"),n("2c3e"),n("00b4"),n("c38a");function i(e){if(null==e||""==e)return"";var t=new Date(e),n=t.getFullYear(),i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,r=t.getDate()<10?"0"+t.getDate():t.getDate(),a=t.getHours()<10?"0"+t.getHours():t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),l=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return n+"-"+i+"-"+r+" "+a+":"+o+":"+l}function r(e,t,n){var i,r,a,o,l,s=function s(){var u=+new Date-o;u<t&&u>0?i=setTimeout(s,t-u):(i=null,n||(l=e.apply(a,r),i||(a=r=null)))};return function(){for(var r=arguments.length,u=new Array(r),c=0;c<r;c++)u[c]=arguments[c];a=this,o=+new Date;var f=n&&!i;return i||(i=setTimeout(s,t)),f&&(l=e.apply(a,u),a=u=null),l}}function a(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var o="export default ",l={html:{indent_size:"2",indent_char:" ",max_preserve_newlines:"-1",preserve_newlines:!1,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"separate",brace_style:"end-expand",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!0,wrap_line_length:"110",indent_inner_html:!0,comma_first:!1,e4x:!0,indent_empty_lines:!0},js:{indent_size:"2",indent_char:" ",max_preserve_newlines:"-1",preserve_newlines:!1,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"end-expand",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!0,end_with_newline:!0,wrap_line_length:"110",indent_inner_html:!0,comma_first:!1,e4x:!0,indent_empty_lines:!0}};function s(e){return e.replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))}function u(e){return/^[+-]?(0|([1-9]\d*))(\.\d+)?$/g.test(e)}},f183:function(e,t,n){var i=n("23e7"),r=n("e330"),a=n("d012"),o=n("861d"),l=n("1a2d"),s=n("9bf2").f,u=n("241c"),c=n("057f"),f=n("4fad"),d=n("90e3"),m=n("bb2f"),p=!1,h=d("meta"),b=0,g=function(e){s(e,h,{value:{objectID:"O"+b++,weakData:{}}})},y=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!l(e,h)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[h].objectID},x=function(e,t){if(!l(e,h)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[h].weakData},v=function(e){return m&&p&&f(e)&&!l(e,h)&&g(e),e},w=function(){S.enable=function(){},p=!0;var e=u.f,t=r([].splice),n={};n[h]=1,e(n).length&&(u.f=function(n){for(var i=e(n),r=0,a=i.length;r<a;r++)if(i[r]===h){t(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},S=e.exports={enable:w,fastKey:y,getWeakData:x,onFreeze:v};a[h]=!0}}]);
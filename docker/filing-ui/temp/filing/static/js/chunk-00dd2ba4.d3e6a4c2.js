(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00dd2ba4"],{"466d":function(e,t,l){"use strict";var a=l("c65b"),i=l("d784"),n=l("825a"),r=l("7234"),o=l("50c4"),s=l("577e"),u=l("1d80"),c=l("dc4a"),d=l("8aa5"),b=l("14c3");i("match",(function(e,t,l){return[function(t){var l=u(this),i=r(t)?void 0:c(t,e);return i?a(i,t,l):new RegExp(t)[e](s(l))},function(e){var a=n(this),i=s(e),r=l(t,a,i);if(r.done)return r.value;if(!a.global)return b(a,i);var u=a.unicode;a.lastIndex=0;var c,f=[],m=0;while(null!==(c=b(a,i))){var p=s(c[0]);f[m]=p,""===p&&(a.lastIndex=d(i,o(a.lastIndex),u)),m++}return 0===m?null:f}]}))},8128:function(e,t,l){"use strict";l("e42f")},b5d5:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[e.moveSuccess?l("div",{style:"border-bottom: 1px solid grey;margin-bottom: 23px;color:"+this.themeColor},[e._v(" Operation Completed ")]):e._e(),l("FileSearch",{attrs:{loading:e.loading,show:e.showSearch,pageSize:e.queryParams.pageSize},on:{getResult:e.receiveSearchResult,"update:loading":function(t){e.loading=t},"update:show":function(t){e.showSearch=t},"update:pageSize":function(t){return e.$set(e.queryParams,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParams,"pageSize",t)}}}),l("div",[l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:1.5}},[l("el-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.move2Box}},[e._v("Move to Box")])],1),l("right-toolbar",{attrs:{showSearch:e.showSearch,columns:e.columns},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.searchByPaging}})],1)],1),e.MoveFiletoBoxPane_table?l("div",[l("span",[e._v("Your search return "+e._s(this.total)+" results.")]),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{border:"",data:e.profileList,"cell-style":e.columnStyle,"header-cell-style":e.headerColStyle}},[e.columns[0].visible?l("el-table-column",{key:Math.random(),attrs:{fixed:"",label:"File ID",align:"center",width:"120",prop:"oldSystemfileID"}}):e._e(),e.columns[1].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Group",align:"center",width:"400",prop:"clientGroupName"}}):e._e(),e.columns[2].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Client Name",align:"center",width:"400",prop:"clientCompanyName"}}):e._e(),e.columns[3].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Client Code",align:"center",width:"130",prop:"clientNumber"}}):e._e(),e.columns[4].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Y.E.D.",align:"center",width:"150",prop:"yearEndDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.yearEndDate,"{y}-{m}-{d}")))])]}}],null,!1,2864419401)}):e._e(),e.columns[5].visible?l("el-table-column",{key:Math.random(),attrs:{label:"A.R.D.",align:"center",prop:"auditReportDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.auditReportDate,"{y}-{m}-{d}")))])]}}],null,!1,2407544522)}):e._e(),e.columns[6].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Retention Date",align:"center",prop:"retentionDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.retentionDate,"{y}-{m}-{d}")))])]}}],null,!1,2710040573)}):e._e(),e.columns[7].visible?l("el-table-column",{key:Math.random(),attrs:{label:"File Type",align:"center",prop:"fileType"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.fileType))])]}}],null,!1,2515862232)}):e._e(),e.columns[8].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Description",align:"center",width:"200",prop:"fileDescription"}}):e._e(),e.columns[9].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Location",align:"center",width:"200",prop:"areaLocation"}}):e._e(),e.columns[10].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Remarks",align:"center",width:"200",prop:"fileremarks"}}):e._e(),e.columns[11].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Available",align:"center",width:"220",prop:"avail"}}):e._e(),e.columns[12].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Moved To",align:"center",width:"245",prop:"moveTo"}}):e._e(),e.columns[13].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Requester",align:"center",width:"150",prop:"requesterName"}}):e._e(),e.columns[14].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Engagement Code",align:"center",width:"150",prop:"engagementNumber"}}):e._e(),e.columns[15].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Engagement EIC",align:"center",width:"150",prop:"engagementEIC"}}):e._e(),e.columns[16].visible?l("el-table-column",{key:Math.random(),attrs:{label:"EIC-Email",align:"center",width:"200",prop:"engagementEICEmail"}}):e._e(),e.columns[17].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Engagement Partner",align:"center",width:"150",prop:"engagementPartner"}}):e._e(),e.columns[18].visible?l("el-table-column",{key:Math.random(),attrs:{label:"PIC-Email",align:"center",width:"200",prop:"engagementPartnerEmail"}}):e._e(),e.columns[19].visible?l("el-table-column",{key:Math.random(),attrs:{label:"File Status",align:"center",width:"150",prop:"fileState"}}):e._e(),e.columns[20].visible?l("el-table-column",{key:Math.random(),attrs:{label:"isBoxed?",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s("LOSE"==t.row.fileState||"DESTROYED"==t.row.fileState?"N":""!=t.row.boxNumber&&null!=t.row.boxNumber?"Y":"N"))])]}}],null,!1,812048914)}):e._e(),e.columns[21].visible?l("el-table-column",{key:Math.random(),attrs:{label:"isDPN?",align:"center",width:"130",prop:"isDPN"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.isDPN))])]}}],null,!1,2956098182)}):e._e(),e.columns[22].visible?l("el-table-column",{key:Math.random(),attrs:{label:"CCID",align:"center",width:"130",prop:"ccId"}}):e._e(),e.columns[23].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Staff ID",align:"center",width:"130",prop:"staffId"}}):e._e(),e.columns[24].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Last borrower ID",align:"center",width:"130",prop:"borrowerStaffId"}}):e._e(),e.columns[25].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Last borrower",align:"center",width:"130",prop:"borrower"}}):e._e(),e.columns[26].visible?l("el-table-column",{key:Math.random(),attrs:{label:"File Destruction Date",align:"center",width:"160",prop:"destructionTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.destructionTime))])]}}],null,!1,3556755213)}):e._e(),e.columns[27].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Destruction Officer",align:"center",width:"250",prop:"destructionPeople"}}):e._e(),e.columns[28].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Created Time",align:"center",prop:"creationDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.creationDate)))])]}}],null,!1,1521401402)}):e._e(),e.columns[29].visible?l("el-table-column",{key:Math.random(),attrs:{label:"Updated Time",align:"center",width:"180",prop:"updatedTime"}}):e._e(),l("el-table-column",{attrs:{label:"Box No",align:"center",width:"150",prop:"boxNumber"}}),l("el-table-column",{attrs:{label:"New Box No",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{ref:e.setInputPrefixRef(t.$index),staticStyle:{width:"100px"},attrs:{size:"mini",placeholder:""},on:{input:function(l){return e.handleInputPrefix(t.$index,l)}},model:{value:t.row.newBoxNumberPrefix,callback:function(l){e.$set(t.row,"newBoxNumberPrefix","string"===typeof l?l.trim():l)},expression:"scope.row.newBoxNumberPrefix"}}),e._v("- "),l("el-input",{ref:e.setInputSuffixRef(t.$index),staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:""},on:{input:function(l){return e.handleInputSuffix(t.$index,l)}},model:{value:t.row.newBoxNumberSuffix,callback:function(l){e.$set(t.row,"newBoxNumberSuffix","string"===typeof l?l.trim():l)},expression:"scope.row.newBoxNumberSuffix"}})]}}],null,!1,3893784959)}),l("el-table-column",{attrs:{label:"Move?",width:"65",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-checkbox",{attrs:{disabled:"Yes"!=t.row.avail||"DESTROYED"==t.row.fileState||"LOSE"==t.row.fileState},on:{change:function(l){return e.onCheckBoxChange(t.$index,l,t.row.newBoxNumberPrefix,t.row.newBoxNumberSuffix)}},model:{value:t.row.checked,callback:function(l){e.$set(t.row,"checked",l)},expression:"scope.row.checked"}})]}}],null,!1,678214021)})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.searchByPaging}})],1):e._e()],1)},i=[],n=l("b85c"),r=(l("a9e3"),l("4de4"),l("d3b7"),l("498a"),l("ac1f"),l("466d"),l("159b"),l("14d9"),l("6e56")),o=l("3032"),s={data:function(){return{mode:"search",insertFiletoBoxPaneForm:{fileID:null,boxNoPrefix:null,boxNoSuffix:null},rules:{},moveSuccess:!1,btnLoading:!1,loading:!1,btnCreationLoading:!1,confirmLoading:!1,SearchBoxPane:!0,MoveFiletoBoxPane_table:!1,showConfirmed:!1,profileList:[],queryParams:{pageNum:1,pageSize:Number(this.$cache.local.get("displayPageRows"))||10},total:0,searchCriteria:null,showSearch:!0,columns:[{key:0,label:"File ID",visible:!0},{key:1,label:"Group",visible:!0},{key:2,label:"Client Name",visible:!0},{key:3,label:"Client Code",visible:!0},{key:4,label:"Y.E.D.",visible:!0},{key:5,label:"A.R.D.",visible:!1},{key:6,label:"Retention Date",visible:!0},{key:7,label:"File Type",visible:!0},{key:8,label:"Description",visible:!0},{key:9,label:"Location",visible:!0},{key:10,label:"Remarks",visible:!0},{key:11,label:"Available",visible:!0},{key:12,label:"Moved To",visible:!1},{key:13,label:"Requester",visible:!1},{key:14,label:"Engagement Code",visible:!1},{key:15,label:"Engagement EIC",visible:!1},{key:16,label:"EIC-Email",visible:!1},{key:17,label:"Engagement Partner",visible:!1},{key:18,label:"PIC-Email",visible:!1},{key:19,label:"File Status",visible:!0},{key:20,label:"isBoxed?",visible:!0},{key:21,label:"isDPN?",visible:!1},{key:22,label:"CCID",visible:!1},{key:23,label:"Staff ID",visible:!0},{key:24,label:"Last borrower ID",visible:!1},{key:25,label:"Last borrower",visible:!1},{key:26,label:"File Destruction Date",visible:!1},{key:27,label:"Destruction Officer",visible:!1},{key:28,label:"Created Time",visible:!0},{key:29,label:"Updated Time",visible:!0}]}},computed:{themeColor:{get:function(){return"#FFE600"==this.$store.state.settings.theme?"black":this.$store.state.settings.theme}},ShowConfirmButton:{get:function(){return this.profileList.filter((function(e){return 1==e.checked})).length>0},set:function(e){}}},methods:{onCheckBoxChange:function(e,t,l,a){l&&this.handleInputPrefix(e,l),a&&this.handleInputSuffix(e,a),0==t&&(this.$refs["inputPrefix-".concat(e)].$el.style.border="none",this.$refs["inputSuffix-".concat(e)].$el.style.border="none")},setInputPrefixRef:function(e){return"inputPrefix-".concat(e)},setInputSuffixRef:function(e){return"inputSuffix-".concat(e)},handleInputPrefix:function(e,t){""==t.trim()||t.length>9||!t.match(/^[A-Za-z]+$/g)?(this.$refs["inputPrefix-".concat(e)].$el.style.border="1px solid red",this.$refs["inputPrefix-".concat(e)].$el.style.borderRadius="5px"):this.$refs["inputPrefix-".concat(e)].$el.style.border="none"},handleInputSuffix:function(e,t){""==t.trim()||t.length>8||!t.match(/^[0-9]*$/g)?(this.$refs["inputSuffix-".concat(e)].$el.style.border="1px solid red",this.$refs["inputSuffix-".concat(e)].$el.style.borderRadius="5px"):this.$refs["inputSuffix-".concat(e)].$el.style.border="none"},receiveSearchResult:function(e,t){this.MoveFiletoBoxPane_table=!0,this.profileList=e.rows,this.total=e.total,this.searchCriteria=t,this.moveSuccess=!1,this.queryParams.pageNum=1,this.queryParams.pageSize=Number(this.$cache.local.get("displayPageRows"))||10},formatConfirmedInfo:function(e,t){return"OK"==t?"FileID: "+e+" successfully inserted.":"FileID: "+e+" is not available for relocation."},searchByPaging:function(){var e=this;null!=this.searchCriteria&&(this.loading=!0,this.searchCriteria["pageNum"]=this.queryParams.pageNum,this.searchCriteria["pageSize"]=this.queryParams.pageSize,Object(r["g"])(this.searchCriteria).then((function(t){e.profileList=t.rows,e.total=t.total,e.loading=!1})).catch((function(t){e.loading=!1})))},addRedBorder:function(e){this.$refs["inputPrefix-".concat(e)].$el.style.border="1px solid red",this.$refs["inputPrefix-".concat(e)].$el.style.borderRadius="5px",this.$refs["inputSuffix-".concat(e)].$el.style.border="1px solid red",this.$refs["inputSuffix-".concat(e)].$el.style.borderRadius="5px"},cleanRedBorder:function(e){this.$refs["inputPrefix-".concat(e)].$el.style.border="none",this.$refs["inputSuffix-".concat(e)].$el.style.border="none"},move2Box:function(){var e=this;this.profileList.forEach((function(t,l){t.i=l,e.cleanRedBorder(l)}));var t=this.profileList.filter((function(e){return 1==e.checked}));if(0!=t.length){var l,a=!1,i=Object(n["a"])(t);try{for(i.s();!(l=i.n()).done;){var r=l.value;void 0==r.newBoxNumberPrefix||void 0==r.newBoxNumberSuffix||""==r.newBoxNumberPrefix||""==r.newBoxNumberSuffix||r.newBoxNumberPrefix.length>9||r.newBoxNumberSuffix.length>8?(this.addRedBorder(r.i),a=!0):r.newBoxNumberPrefix.match(/^[A-Za-z]+$/g)&&r.newBoxNumberSuffix.match(/^[0-9]*$/g)||(this.addRedBorder(r.i),a=!0)}}catch(f){i.e(f)}finally{i.f()}if(a)this.$modal.alertError("Invalid New BoxNo");else{var s,u=[],c=Object(n["a"])(t);try{for(c.s();!(s=c.n()).done;){var d=s.value;u.push({prefix:d.newBoxNumberPrefix,suffix:d.newBoxNumberSuffix,deptId:d.deptId})}}catch(f){c.e(f)}finally{c.f()}var b={list:u};this.confirmLoading=!0,Object(o["a"])(b).then((function(l){var a,i=Object(n["a"])(l.data);try{for(i.s();!(a=i.n()).done;){var r=a.value;if(0==r.count)return e.confirmLoading=!1,void e.$modal.alertError("BoxNo "+r.boxNumber+" does not exist!")}}catch(f){i.e(f)}finally{i.f()}var s,u=[],c=Object(n["a"])(t);try{for(c.s();!(s=c.n()).done;){var d=s.value,b={fileID:d.fileID,newBoxNumber:d.newBoxNumberPrefix+""+d.newBoxNumberSuffix};u.push(b)}}catch(f){c.e(f)}finally{c.f()}Object(o["i"])(u).then((function(t){e.confirmLoading=!1,e.MoveFiletoBoxPane_table=!1,e.moveSuccess=!0,e.profileList=[]})).catch((function(t){e.confirmLoading=!1}))})).catch((function(t){e.confirmLoading=!1}))}}else this.$modal.alert("Please select check box!")},firstColumnStyle:function(e,t,l,a){return"color: black;padding:0px 0px;"},columnStyle:function(e,t,l,a){return"Yes"!=e.row.avail||"DESTROYED"==e.row.fileState||"LOSE"==e.row.fileState?"color: red;padding:0px 0px;":"color: black;padding:0px 0px;"},headerColStyle:function(e,t,l,a){return"padding:0px 0px;height:10px"}}},u=s,c=(l("8128"),l("2877")),d=Object(c["a"])(u,a,i,!1,null,"00525764",null);t["default"]=d.exports},e42f:function(e,t,l){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc03f4ca"],{"17c20":function(e,t,n){},2705:function(e,t,n){"use strict";n("17c20")},bab6:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[e.showFileID?n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"auto","label-suffix":":"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:e.$t("return.labelInputFileId"),prop:"fileID"}},[n("el-input",{ref:"fileIDTextField",staticStyle:{width:"200px","margin-right":"5px"},attrs:{maxlength:"12",clearable:"",placeholder:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("fileID")}},model:{value:e.form.fileID,callback:function(t){e.$set(e.form,"fileID","string"===typeof t?t.trim():t)},expression:"form.fileID"}}),n("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(){return e.submitForm("fileID")}}},[e._v(e._s(e.$t("return.btnFetch")))])],1)],1):e._e(),e.showConfirmMessage?n("div",e._l(e.messageList,(function(t){return n("ul",{key:t.fileID,staticStyle:{margin:"0",padding:"3px 10px"}},[n("li",{style:"color: "+("OK"==t.status?"#13ce66":"red")},[e._v(e._s(e.formatConfirmInfo(t.oldSystemfileID,t.status)))])])})),0):e._e(),e.showTotalFiles?n("div",[n("span",[e._v(" "+e._s(e.$t("return.txtTotalFiles",{num:e.totalSelected}))+" ")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.selectedProfileList,"cell-style":e.columnStyle,"header-cell-style":e.headerColStyle},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{fixed:"",label:"File ID",align:"center",width:"150",prop:"oldSystemfileID"}}),n("el-table-column",{attrs:{label:"Group",align:"center",width:"400",prop:"clientGroupName"}}),n("el-table-column",{attrs:{label:"Client Name",align:"center",width:"400",prop:"clientCompanyName"}}),n("el-table-column",{attrs:{label:"Y.E.D.",align:"center",width:"200",prop:"yearEndDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.parseTime(t.row.yearEndDate,"{y}-{m}-{d}")))])]}}],null,!1,2864419401)}),n("el-table-column",{attrs:{label:"File Type",align:"center",width:"200",prop:"fileType"}}),n("el-table-column",{attrs:{label:"Description",align:"center",width:"200",prop:"fileDescription"}}),n("el-table-column",{attrs:{label:"File Status",align:"center",width:"200",prop:"status"}}),n("el-table-column",{attrs:{label:"Actions",fixed:"right",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteRow(t.$index,e.selectedProfileList)}}},[e._v(" "+e._s(e.$t("return.linkRemove"))+" ")])]}}],null,!1,4192679860)})],1)],1):e._e(),this.showConfirm?n("div",{staticStyle:{"text-align":"center","margin-top":"5px"}},[n("el-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("return.btnConfirm")))])],1):e._e()],1)},l=[],o=(n("4de4"),n("d3b7"),n("14d9"),n("a434"),n("d81d"),n("b775"));function r(e){return Object(o["a"])({url:"/filingsystem/filing/borrowrecord/fetchReturnFile",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/filingsystem/filing/borrowrecord/returnConfirm",method:"post",data:e})}var s={name:"Return",data:function(){return{form:{fileID:""},rules:{fileID:[{required:!0,message:"FileID cannot be blank",trigger:"click"}]},btnLoading:!1,loading:!1,confirmLoading:!1,showFileID:!0,showTotalFiles:!1,selectedProfileList:[],messageList:[],showConfirmMessage:!1}},computed:{showConfirm:{get:function(){return this.selectedProfileList.length>0},set:function(e){}},totalSelected:{get:function(){return this.selectedProfileList.length},set:function(e){}}},methods:{formatConfirmInfo:function(e,t){return"OK"==t?"FileID: "+e+" successfully returned.":"Not in Database"==t?"FileID: "+e+" does not exist.":"FileID: "+e+" is not in borrow record."},clearInputBoxForNextEntry:function(){this.form.fileID="",this.$refs.fileIDTextField.focus()},submitForm:function(e){var t=this;"fileID"===e&&this.$refs["form"].validate((function(e){e&&(t.showConfirmMessage=!1,t.btnLoading=!0,t.showFileID=!0,t.showTotalFiles=!0,r(t.form).then((function(e){var n=t.selectedProfileList.filter((function(t){return t.oldSystemfileID==e.data.oldSystemfileID})).length;0==n&&t.selectedProfileList.push(e.data),t.btnLoading=!1,t.clearInputBoxForNextEntry()})).catch((function(e){t.btnLoading=!1,t.clearInputBoxForNextEntry()})))}))},exportExcel:function(){},handleSelectionChange:function(){},searchByPaging:function(){},deleteRow:function(e,t){t.splice(e,1)},handleConfirm:function(){var e=this;this.confirmLoading=!0,this.messageList=this.selectedProfileList;var t=this.selectedProfileList.filter((function(e){return"OK"==e.status})).map((function(e){return e.oldSystemfileID}));t.length>0?a(t).then((function(t){e.selectedProfileList=[],e.showTotalFiles=!1,e.confirmLoading=!1,e.showConfirmMessage=!0})).catch((function(t){e.confirmLoading=!1})):(this.selectedProfileList=[],this.showTotalFiles=!1,this.confirmLoading=!1,this.showConfirmMessage=!0)},firstColumnStyle:function(e,t,n,i){return"color: black;padding:0px 0px;"},columnStyle:function(e,t,n,i){return"Not in Borrowed List"==e.row.status||"Not in Database"==e.row.status?"color: red;padding:0px 0px;":"color: #13ce66;padding:0px 0px;"},headerColStyle:function(e,t,n,i){return"padding:0px 0px;height:10px"}}},c=s,f=(n("2705"),n("2877")),u=Object(f["a"])(c,i,l,!1,null,"07f37660",null);t["default"]=u.exports}}]);